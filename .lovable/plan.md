

## План: Окреме діалогове вікно чату для мобільних пристроїв (як у Facebook)

---

### Проблема

На мобільних пристроях список чатів і вікно чату відображаються разом, що призводить до:
- Малого простору для повідомлень
- Пустого місця зверху (від ChatList)
- Малого поля для вводу тексту

---

### Рішення: Повноекранне модальне вікно чату на мобільних

При виборі чату на мобільному пристрої - відкривати **повноекранний режим чату** (як у Facebook Messenger).

---

### Частина 1: Оновлення `Messages.tsx`

**Змінити логіку відображення:**

```
На мобільних (< md):
┌────────────────────────┐
│     Список чатів       │  ← Показувати, коли activeChat = null
│  (ChatList на весь     │
│   екран)               │
└────────────────────────┘

        ↓ Клік на чат ↓

┌────────────────────────┐
│ ← Назад │ Ім'я User    │  ← ChatHeader з кнопкою "Назад"
├────────────────────────┤
│                        │
│   Повідомлення         │  ← MessageList (flex-1, весь простір)
│   на весь екран        │
│                        │
├────────────────────────┤
│ 📎 Напишіть... 😊 ➤   │  ← MessageInput
├────────────────────────┤
│ 🏠  👥  ➕  💬  ☰     │  ← MobileNavigation (залишається)
└────────────────────────┘
```

**Зміни в структурі grid:**

```tsx
// Мобільний: показувати АБО список чатів АБО вікно чату
// Десктоп: показувати обидва одночасно

<div className="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4">
  {/* Список чатів - приховувати на мобільному коли є activeChat */}
  <div className={`border-r md:col-span-1 ${activeChat ? 'hidden md:block' : 'block'}`}>
    <ChatList ... />
  </div>
  
  {/* Вікно чату - показувати тільки коли є activeChat на мобільному */}
  <div className={`flex h-[calc(100vh-8rem)] md:h-[80vh] flex-col md:col-span-2 lg:col-span-3 ${!activeChat ? 'hidden md:flex' : 'flex'}`}>
    ...
  </div>
</div>
```

---

### Частина 2: Оновлення `ChatHeader.tsx`

**Додати кнопку "Назад" для мобільних:**

```tsx
interface ChatHeaderProps {
  user: { ... };
  onBack?: () => void;  // Новий prop
}

export function ChatHeader({ user, onBack }: ChatHeaderProps) {
  return (
    <div className="border-b p-3 flex items-center gap-3">
      {/* Кнопка назад - тільки на мобільних */}
      {onBack && (
        <Button 
          variant="ghost" 
          size="icon"
          onClick={onBack}
          className="md:hidden"
        >
          <ArrowLeft className="h-5 w-5" />
        </Button>
      )}
      
      <Avatar>...</Avatar>
      <div>...</div>
    </div>
  );
}
```

---

### Частина 3: Оновлення висоти контейнера чату

**Оптимізувати простір:**

```tsx
// Було: h-[calc(100vh-12rem)] md:h-[80vh]
// Стане: 
<div className="flex h-[calc(100vh-8rem)] md:h-[80vh] flex-col pb-16 md:pb-0">
```

- `100vh - 8rem` = більше місця для чату (було -12rem)
- `pb-16 md:pb-0` = відступ для мобільної навігації

---

### Частина 4: Оновлення `ChatList.tsx`

**Оптимізувати висоту для мобільних:**

```tsx
// Було: h-[calc(80vh-120px)]
// Стане:
<div className="h-[calc(100vh-12rem)] md:h-[calc(80vh-120px)] overflow-y-auto">
```

---

### Візуальна схема потоку

```
┌─────────────────┐          ┌─────────────────┐
│  Список чатів   │  ───────▶│  Повноекранний  │
│  (мобільний)    │  (клік)  │  чат            │
│                 │          │                 │
│  ┌───────────┐  │          │ ← [Назад] User  │
│  │ User 1    │  │          │ ─────────────── │
│  ├───────────┤  │          │                 │
│  │ User 2    │  │          │ Повідомлення    │
│  ├───────────┤  │          │ ...             │
│  │ User 3    │  │          │                 │
│  └───────────┘  │          │ ─────────────── │
│                 │  ◀───────│ [📎] Input [➤]  │
└─────────────────┘  (назад) └─────────────────┘
```

---

### Файли для редагування

| Файл | Зміни |
|------|-------|
| `src/pages/Messages.tsx` | Умовне відображення ChatList/Chat, передача onBack |
| `src/components/messages/ChatHeader.tsx` | Додати кнопку "Назад" для мобільних |
| `src/components/messages/ChatList.tsx` | Оптимізувати висоту для мобільних |

---

### Очікуваний результат

- Повноекранний чат на мобільних пристроях (як у Facebook)
- Весь простір екрану використовується для повідомлень
- Кнопка "Назад" для повернення до списку чатів
- Зручне поле вводу тексту
- На десктопі - без змін (список чатів + чат поруч)

