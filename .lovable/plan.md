
## План: Виправлення перекриття контенту нижньою навігацією

---

### Проблема

На мобільних пристроях картки користувачів внизу списку перекриваються фіксованою нижньою навігаційною панеллю. Кнопки "Профіль", "Написати", "Додати в друзі" недоступні.

Причини:
1. Нижня панель має висоту `h-16` (64px) + `safe-area-bottom` (до 34px на iPhone)
2. Поточний `pb-20` (80px) недостатній для пристроїв з великими safe areas
3. Деякі сторінки взагалі не мають відступу знизу

---

### Рішення

Використати CSS змінну `env(safe-area-inset-bottom)` для динамічного розрахунку відступу, який буде працювати на всіх пристроях.

---

### Зміни у файлах

#### Файл 1: `src/index.css`

Додати глобальний CSS клас для безпечного відступу знизу:

```css
/* Безпечний відступ для мобільної навігації */
.pb-safe-nav {
  /* 64px (h-16 навігація) + 16px (запас) + safe-area-inset-bottom */
  padding-bottom: calc(80px + env(safe-area-inset-bottom, 0px));
}

@media (min-width: 768px) {
  /* На десктопі не потрібен цей відступ */
  .pb-safe-nav {
    padding-bottom: 0;
  }
}
```

---

#### Файл 2: `src/pages/Search.tsx`

Замінити `pb-20 md:pb-10` на новий клас:

```tsx
// БУЛО:
<div className="min-h-screen pb-20 md:pb-10">

// СТАНЕ:
<div className="min-h-screen pb-safe-nav">
```

---

#### Файл 3: `src/pages/Connect.tsx`

Додати відступ (зараз відсутній):

```tsx
// БУЛО:
<div className="min-h-screen bg-background">

// СТАНЕ:
<div className="min-h-screen bg-background pb-safe-nav">
```

---

#### Файл 4: `src/pages/Friends.tsx`

Оновити на новий клас:

```tsx
// БУЛО:
<div className="min-h-screen bg-background pb-20 md:pb-0">

// СТАНЕ:
<div className="min-h-screen bg-background pb-safe-nav">
```

---

#### Файл 5: `src/pages/Index.tsx`

Оновити на новий клас:

```tsx
// БУЛО:
<div className="min-h-screen bg-background pb-20 md:pb-0 pt-14 sm:pt-16 3xl:pt-20">

// СТАНЕ:
<div className="min-h-screen bg-background pb-safe-nav pt-14 sm:pt-16 3xl:pt-20">
```

---

#### Файл 6: `src/pages/Profile.tsx`

Оновити на новий клас (перевірити поточний стан і додати якщо потрібно).

---

#### Файл 7: `src/pages/Notifications.tsx`

Перевірити і додати відступ якщо потрібно.

---

#### Файл 8: `src/pages/Settings.tsx`

Перевірити і додати відступ якщо потрібно.

---

### Візуалізація

```text
ЗАРАЗ (проблема):

┌────────────────────────────────┐
│ Картка 1 з кнопками            │
├────────────────────────────────┤
│ Картка 2 з кнопками            │
├────────────────────────────────┤
│ Картка 3                       │
│   Кнопки тут                   │  ← Перекрито!
├════════════════════════════════┤
│ 🏠  👥  ➕  💬  ☰              │  ← Навігація
├────────────────────────────────┤
│      [gesture bar]             │  ← safe-area
└────────────────────────────────┘


ПІСЛЯ ВИПРАВЛЕННЯ:

┌────────────────────────────────┐
│ Картка 1 з кнопками            │
├────────────────────────────────┤
│ Картка 2 з кнопками            │
├────────────────────────────────┤
│ Картка 3 з кнопками            │  ← Видно!
│                                │
│    [достатній відступ]         │  ← padding-bottom
│                                │
├════════════════════════════════┤
│ 🏠  👥  ➕  💬  ☰              │  ← Навігація
├────────────────────────────────┤
│      [gesture bar]             │  ← safe-area
└────────────────────────────────┘
```

---

### Технічні деталі

| Властивість | Значення | Пояснення |
|-------------|----------|-----------|
| `h-16` | 64px | Висота навігаційної панелі |
| `safe-area-inset-bottom` | 0-34px | Системний safe-area (iPhone notch) |
| Рекомендований відступ | 80-100px | 64 + 16 (запас) + safe-area |
| `env()` функція | CSS | Автоматично адаптується до пристрою |

---

### Підсумок змін

| Файл | Зміни |
|------|-------|
| `src/index.css` | Додати `.pb-safe-nav` клас |
| `src/pages/Search.tsx` | Замінити padding на `pb-safe-nav` |
| `src/pages/Connect.tsx` | Додати `pb-safe-nav` |
| `src/pages/Friends.tsx` | Замінити на `pb-safe-nav` |
| `src/pages/Index.tsx` | Замінити на `pb-safe-nav` |
| `src/pages/Profile.tsx` | Перевірити/додати `pb-safe-nav` |
| `src/pages/Notifications.tsx` | Перевірити/додати |
| `src/pages/Settings.tsx` | Перевірити/додати |

---

### Очікуваний результат

1. Всі кнопки **доступні** на всіх мобільних пристроях
2. Автоматична адаптація до **safe-area** (iPhone, Android gesture nav)
3. На **десктопі** немає зайвого відступу
4. Працює на **смартфонах і планшетах** однаково
